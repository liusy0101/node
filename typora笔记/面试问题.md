## 阿里境外银行一面：

​	低代码平台类之间如何解耦？

​	redis的在低代码平台的用处？

​	redis集群模式有几种，分别有什么区别？

​	redis集群模式下如果需要增加一台机器怎么进行处理？

​    rabbitmq如何保证可靠性？rabbitmq与kafka有什么区别？

​    dubbo的注册中心用处？在分布式环境下需要有什么特性支撑？

​    hadoop的用法以及es的用处，es的倒排索引是怎么样的，跟正排索引有什么区别？

​	有没有做过数据库的优化？

​	悲观锁和乐观锁的区别？有什么应用场景？

​	有没有做过jvm的优化？G1收集器和cms收集器有什么区别？







## 阿里菜鸟一面：

​	对多线程的看法？

​	线程池的创建方式？

​	线程池的原理？

​	HashMap和ConcurrentHashMap的原理？红黑树原理？

​	高并发如何进行性能优化？

​	如何防止商品超卖？

​	MySQL存储引擎有什么，区别是什么？

​	B树和B+树原理，查找耗时

​	问项目







## 腾讯teg运营开发一面：

​	java构造器有几种

​	java中线程安全是什么

​	java中可变、不可变是什么

​	线程、进程的区别，系统在线程和进程方面如何进行调度

​	类加载机制是怎么样的，

​	是从什么地方进行加载的，如果路径中找不到会怎么样

​	加载了不同版本的jar包会报错吗

​	class文件是如何验证的？具体流程说一下

​	验证失败怎么进行处理？

​	准备过程是怎么样的，如何分配空间，分配多大的空间

​	初始化是怎么样的，具体流程说一下？

​	

**算法题：**

​	将有序链表转换成二叉搜索树

​	



## 阿里菜鸡一面：

1、redis缓存是怎么做的？redis缓存跟数据库不一致的情况怎么处理，数据更新后如何更新缓存和数据库。

解决思路：先删除缓存，再修改数据库。如果数据库修改失败了，那么数据库中是旧数据，缓存中是空的，那么数据不会不一致。因为读的时候缓存没有，则读数据库中旧数据，然后更新到缓存中。

数据发生了变更，先删除了缓存，然后要去修改数据库，此时还没修改。一个请求过来，去读缓存，发现缓存空了，去查询数据库，**查到了修改前的旧数据**，放到了缓存中。随后数据变更的程序完成了数据库的修改。完了，数据库和缓存中的数据不一样了...

遇到这种情况，可以用队列的去解决这个问，创建几个队列，如20个，根据商品的ID去做hash值，然后对队列个数取摸，当有数据更新请求时，先把它丢到队列里去，当更新完后在从队列里去除，如果在更新的过程中，遇到以上场景，先去缓存里看下有没有数据，如果没有，可以先去队列里看是否有相同商品ID在做更新，如果有也把查询的请求发送到队列里去，然后同步等待缓存更新完成。
这里有一个优化点，如果发现队列里有一个查询请求了，那么就不要放新的查询操作进去了，用一个while（true）循环去查询缓存，循环个200MS左右，如果缓存里还没有则直接取数据库的旧数据，一般情况下是可以取到的。



![img](typora-user-images/Center)



















2、为什么重写了equals方法之后一定要重写hashcode方法

​	为了效率

​	hashcode相等，对象不一定相等

​	hashcode不相等，对象一定不相等

3、分库分表是什么，会导致什么问题

4、说一下RabbitMQ，如何进行消息幂等处理













## 腾讯qq音乐：

一面：三道算法题

![image-20211110212711852](typora-user-images/image-20211110212711852.png)



二面：

1、介绍下java gc

2、介绍下JUC，线程安全方面的

3、mysql事务相关、锁、索引、事务如何实现

4、redis集群模式、数据结构

5、kafka副本是怎么样的、kafka为什么快？

5、select、poll、epoll是怎么样的

6、TCP三次握手、四次挥手、为什么需要三次握手，四次挥手、滑动窗口

7、粘包是什么情况，如何解决？

8、介绍下项目：项目架构、多少人维护、做了多久、用户量、我在其中担任什么角色，做了什么功能。





三面：

1、算法题

（1）去除字符串中的空格

（2）获取字符串的所有子序列

递归解决，每来到一个位置，决定要或不要该位置上的元素，递归边界为直到最后一个位置的后一个位置，打印当前选择好的字符串

```java
public class SubSequences {
    /**
     * 打印字符串的所有子序列
     *
     * @param chars   字符数组
     * @param index 当前所在的字符位置
     * @param res   之前获得的子序列
     */
    public static void printSubSequences(char[] chars, int index, String res) {
        if (index == chars.length) {
            System.out.print(res + " ");
            return;
        }
        printSubSequences(chars,index+1,res);
        printSubSequences(chars,index+1,res+chars[index]);
    }

    public static void main(String[] args) {
        String test = "12345";
        printSubSequences(test.toCharArray(),0,"");
    }
}
```

2、聊一下项目

3、说一下用到的存储系统

4、说一下redis的key是怎么进行hash的？一致性hash算法？Hash的负载因子是多少

5、TCP三次握手中的backlog是怎么样的



backlog这个参数值和三次握手的概念有着密切关联。backlog队列大小 = 未完成三次握手队列 +  已经完成三次握手队列。


未完成三次握手队列：服务器处于listen状态时，收到客户端syn报文（connect）时放入未完成队列中。



已完成三次握手队列：三次握手的第二个状态即服务器syn+ack响应client后，此时第三个状态ack报文到达前（客户端对服务器syn的ack）一直保留在未完成连接队列中。若三次握手完成，该条目将从未完成连接队列搬到已完成连接队列尾部。当server调用accept时，从已完成三次握手队列中的头部取出一个socket连接给进程。


backlog参数设置既可在linux内核参数设置(修改文件/etc/sysctl相关参数)，也可在socket系统调用listen函数时设置(第二个参数)。这二者区别是前者为全局性的，影响所有socket，后者为局部性的，影响当前socket。



若backlog设置过小可能会出现以下情况：server的accpet速度跟不上，导致A、B队列满了，导致新的客户端无法连接。



6、kafka的源码有没有看过

7、linux如何查看磁盘读写性能等







## 字节飞书一面：

1、算法题：

（1）单链表部分反转

（2）旋转数组中查找元素

2、聊项目

3、JVM内存结构，垃圾收集器，GC等

4、多路复用，redis使用了Reactor模式，它为什么快？

5、spring的依赖注入解决了什么问题？

6、说一下java锁机制？对象锁？公平锁？非公平锁？可重入锁？不可重入锁？自旋锁？





二面：

1、算法题

（1）二叉树的最长路径

```java
public int getHeight(TreeNode node){
        if(node == null)
            return 0;
 
        int left = getHeight(node.left);
        int right = getHeight(node.right);
 
        res = Math.max(res, left+right);
        return 1+Math.max(left, right);
    }
```



2、kafka partition底层存储是怎么样的

3、kafka如何确保消息一次消费且只被消费一次

4、kafka如何确保生产者消息发送成功

5、kafka 的消费者在消费成功、失败该怎么处理

6、mysql的innodb底层存储是怎么样的

7、mysql跟hbase的存储结构有什么不一样

8、内存池如何设计

9、进程间通信，最快的方式是什么，内存在内核还是用户态操作

10、TCP/IP如何解决粘包问题









## 腾讯微保

只问项目





## 深信服

### 一面：

项目

JVM

Kafka

spring cloud



编程题：两个线程打印一个列表



### 商汤

### 一面：

1、创建线程方式

2、线程池参数

3、线程池任务怎么执行

4、怎么停止线程池的某个任务

5、泛型是怎么样的

6、泛型有哪几种，运行期能获取泛型参数类型吗，？号怎么用

7、什么时候进行full gc

8、频繁full gc如何排查

9、内存溢出怎么排查

10、mysql的隔离级别、以及会导致什么问题

11、幻读如何解决

12、mysql中要手动加锁还是自动加锁，一条sql是怎么加锁的

13、怎么优化慢查询

14、mvcc是什么

15、mysql索引类型

16、mysql存储引擎以及区别

17、spring ioc、aop等信息，aop底层实现有什么

18、spring cloud全家桶

19、有没看过spring 全家桶源代码

20、spring eureka的流程

21、linux一堆命令，比如查看某个进程pid、只查看PID用什么、查看磁盘使用量、查看线程所用cpu：top -H

22、restful是什么

23、如何设计一个接口：图片和其它信息一起上传？然后扯一堆问题

24、短信接口如何实现，需要考虑什么问题

25、如何方式恶意刷接口行为？人机校验接口如何实现？



